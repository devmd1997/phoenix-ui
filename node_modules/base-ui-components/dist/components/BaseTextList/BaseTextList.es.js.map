{"version":3,"file":"BaseTextList.es.js","sources":["../../../src/components/BaseTextList/BaseTextList.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[\n      'base-text-list',\n      {\n        'base-text-list-2-cols': cols2,\n        'base-text-list-2-cols-single-content':\n          cols2 && data.length === 1 && typeof data[0].data === 'string',\n      }]\">\n    <div\n      v-for=\"(item, index) in data\"\n      :key=\"index\"\n      class=\"base-text-list-group\">\n      <component\n        :is=\"renderLabelAs\"\n        v-if=\"item.label\"\n        :class=\"['base-text-list-label', { 'base-text-list-label-mb': labelMarginBottom }]\">\n        {{ getLangLabel(item.label) }}\n      </component>\n\n      <!-- String as text -->\n      <!-- eslint-disable vue/multiline-html-element-content-newline -->\n      <!-- get rid of prepending white-space -->\n      <p\n        v-if=\"typeof item.data === 'string'\"\n        :class=\"[\n          'base-text-list-content',\n          'base-text-list-content-pre-line',\n          { 'base-text-list-2-cols': data.length === 1 }]\">{{ item.data }}</p>\n      <!-- eslint-enable vue/multiline-html-element-content-newline-->\n\n      <!-- Array as unordered list -->\n      <ul\n        v-else-if=\"typeof item.data === 'object' && typeof item.data[0] === 'string'\"\n        class=\"base-text-list-content\">\n        <li\n          v-for=\"(arrayItem, listIndex) in item.data\"\n          :key=\"listIndex\">\n          {{ arrayItem }}\n        </li>\n      </ul>\n\n      <!-- Array/Objects -->\n      <template\n        v-else-if=\"typeof item.data === 'object'\">\n        <!-- render as comma separated list -->\n        <template\n          v-if=\"!containKeys([].concat(item.data), 'label')\">\n          <div class=\"base-text-list-content\">\n            <template\n              v-for=\"(objectItem, objectIndex) in [].concat(item.data)\">\n              <!-- eslint-disable -->\n              <BaseLink\n                :key=\"objectIndex\"\n                :source=\"objectItem.source\"\n                :tooltip=\"objectItem.additional\"\n                :type=\"objectItem.type\"\n                :url=\"objectItem.url\"\n                :value=\"objectItem.value\"\n                :class=\"[{ 'base-link--chip-text-list': isChip(objectItem) }]\">\n                <template #tooltip>\n                  <!-- @slot slot for tooltip content -->\n                  <!-- @binding {array} data -  -->\n                  <slot\n                    :data=\"objectItem.additional\"\n                    name=\"tooltip\" />\n                </template>\n                <!-- add directly after to avoid additional spaces -->\n              </BaseLink>{{ item.data.length && objectIndex !== item.data.length - 1 && !isChip(objectItem) ? ', ' : '' }}\n              <!-- eslint-enable -->\n            </template>\n          </div>\n        </template>\n\n        <!-- render as data list -->\n        <template\n          v-if=\"containKeys([].concat(item.data), 'label')\">\n          <dl\n            v-if=\"typeof item.data === 'object'\"\n            :class=\"['base-text-list-content',\n                     'base-text-list-content--' + listType]\">\n            <template\n              v-for=\"(objectItem, objectIndex) in [].concat(item.data)\">\n              <dt\n                :key=\"'l' + objectIndex\"\n                class=\"base-text-list__content__label\">\n                <template\n                  v-if=\"objectItem.label\">\n                  {{ getLangLabel(objectItem.label) }}:\n                </template>\n              </dt>\n              <dd\n                :key=\"'v' + objectIndex\"\n                class=\"base-text-list__content__label base-text-list__content__value\">\n                <BaseLink\n                  :render-link-as=\"renderLinkAs\"\n                  :source=\"objectItem.source\"\n                  :tooltip=\"objectItem.additional\"\n                  :type=\"objectItem.type\"\n                  :url=\"objectItem.url\"\n                  :value=\"objectItem.value\">\n                  <!-- @slot slot for tooltip content -->\n                  <slot name=\"tooltip\" />\n                </BaseLink>\n              </dd>\n            </template>\n          </dl>\n        </template>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from '../../mixins/i18n';\n\n/**\n * Component to render data in p | ul | dt tags depending on field type 'data'\n */\n\nexport default {\n  name: 'BaseTextList',\n  components: {\n    BaseLink: () => import('../BaseLink/BaseLink').then(m => m.default || m),\n  },\n  mixins: [i18n],\n  props: {\n    /**\n     * data structure for different rendered tags:\n     *\n     * **<p>**: `{ label: {string, Object}, data: {string} }`\n     * **<ul>**: `{ label: {string, Object}, data: {string[]}}`\n     * **<dt>**: `{ label: {string, Object}, data: [{ label: {string, Object}, value: {string}, url: {string}, additional: {Object} }]}` or\n     *  `{ label: {String, Object}, data: { label: {String, Object}, value: {string}, url: {string}, additional: {Object} }}`\n     *\n     * `label` might be a string or a language object with ISO 639-1 as object properties\n     *  (e.g. `{ en: 'x', de: 'y' }`).\n     *  `additional` property creates a tooltip and takes an object in the same format as\n     *    data: `label`, `value` and `url`.\n     * Note: for dt tag `url` will render `value` as a link\n     */\n    data: {\n      type: Array,\n      default: () => ([]),\n    },\n    /**\n     * render component as e.g.: 'h2' | 'h3'\n     */\n    renderLabelAs: {\n      type: String,\n      default: 'div',\n    },\n    /**\n     * set margin-bottom for the label\n     */\n    labelMarginBottom: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * render content in two columns\n     */\n    cols2: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * set box height to auto\n     */\n    autoHeight: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * specify how link element should be rendered - this needs to be a\n     * valid vue link component (e.g. RouterLink, NuxtLink) and vue-router\n     * is necessary\n     */\n    renderLinkAs: {\n      type: String,\n      default: 'RouterLinnk',\n    },\n    /**\n     * specify how data-list (label, value) should be rendered\n     * @values horizontal, vertical\n     */\n    listType: {\n      type: String,\n      default: 'horizontal',\n      validate: val => ['horizontal', 'vertical'].includes(val),\n    },\n  },\n  methods: {\n    /**\n     * check if all array objects have a key label\n     *\n     * @param {array} data\n     * @param {string} key\n     * @returns {boolean}\n     */\n    containKeys(data, key) {\n      // eslint-disable-next-line\n      for (const obj of data) {\n        if (!Object.keys(obj).includes(key)) {\n          return false;\n        }\n      }\n      return true;\n    },\n    /**\n     * check if the object contains properties that indicate a chip type\n     *\n     * @param {object} data\n     * @returns {boolean}\n     */\n    isChip(data) {\n      return !!(data.source && data.type);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"../../styles/variables\";\n\n  .base-text-list-2-cols {\n    columns: 2;\n    column-gap: $spacing-large;\n\n    @media screen and (max-width: $mobile) {\n      columns: inherit;\n    }\n  }\n\n  .base-text-list {\n\n    .base-text-list-group {\n      page-break-inside: avoid;\n      break-inside: avoid;\n\n      &:first-of-type {\n        .base-text-list-label {\n          margin-top: 0;\n        }\n      }\n\n      .base-text-list-label {\n        margin-top: $line-height;\n        margin-bottom: 0;\n\n        &.base-text-list-label-mb {\n          margin-bottom: $spacing;\n        }\n      }\n\n      .base-text-list-content,\n      .base-text-list-label {\n        overflow-wrap: break-word;\n      }\n\n      // class gets modified in component baseMapLocations\n      .base-text-list-content {\n        color: $font-color-second;\n        height: 100%;\n\n        .base-text-list__content-link {\n          color: $app-color;\n\n          &:hover {\n            text-decoration: underline;\n          }\n        }\n      }\n\n      .base-text-list-content-pre-line {\n        white-space: pre-line;\n        break-inside: avoid;\n      }\n\n      .base-text-list-content--horizontal {\n        .base-text-list__content__label {\n          display: inline;\n        }\n\n        .base-text-list__content__value {\n          display: inline;\n\n          &:after {\n            display: block;\n            content: '';\n            width: 100%;\n          }\n        }\n      }\n\n      .base-text-list-content--vertical {\n        line-height: $line-height;\n\n        .base-text-list__content__label {\n          display: block;\n        }\n\n        .base-text-list__content__value {\n          display: block;\n          color: $font-color;\n          margin-bottom: $spacing-small;\n          word-break: break-word;\n        }\n      }\n\n      .base-link--chip-text-list {\n        margin-right: $spacing-small-half;\n        margin-bottom: 2px;\n      }\n    }\n\n    &.base-text-list-2-cols-single-content {\n      display: flex;\n      height: calc(100% - #{$line-height});\n    }\n  }\n</style>\n"],"names":["_sfc_main","m","i18n","val","data","key","obj"],"mappings":";;;AAwHA,MAAAA,IAAA;AAAA,EACA,MAAA;AAAA,EACA,YAAA;AAAA,IACA,UAAA,MAAA,OAAA,8BAAA,KAAA,CAAAC,MAAAA,EAAA,WAAAA,CAAA;AAAA,EACA;AAAA,EACA,QAAA,CAAAC,CAAA;AAAA,EACA,OAAA;AAAA,IAeA,MAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA,MAAA,CAAA;AAAA,IACA;AAAA,IAIA,eAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,mBAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,OAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,YAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAMA,cAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAKA,UAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,MACA,UAAA,CAAAC,MAAA,CAAA,cAAA,UAAA,EAAA,SAAAA,CAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IAQA,YAAAC,GAAAC,GAAA;AAEA,iBAAAC,KAAAF;AACA,YAAA,CAAA,OAAA,KAAAE,CAAA,EAAA,SAAAD,CAAA;AACA,iBAAA;AAGA,aAAA;AAAA,IACA;AAAA,IAOA,OAAAD,GAAA;AACA,aAAA,CAAA,EAAAA,EAAA,UAAAA,EAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}