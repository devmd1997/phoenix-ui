"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue-click-outside");require("./BaseLink.vue_vue_type_style_index_0_scoped_22bc0e40_lang.cjs.js");const a=require("../../_virtual/_plugin-vue2_normalizer.cjs.js"),r=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},n=r(o),c={name:"BaseLink",components:{BaseIcon:()=>Promise.resolve().then(()=>require("../BaseIcon/BaseIcon.cjs.js")).then(t=>t.default||t),BaseTooltip:()=>Promise.resolve().then(()=>require("../BaseTooltip/BaseTooltip.cjs.js")).then(t=>t.default||t),BaseLoader:()=>Promise.resolve().then(()=>require("../BaseLoader/BaseLoader.cjs.js")).then(t=>t.default||t)},directives:{ClickOutside:n.default},props:{renderLinkAs:{type:String,default:"RouterLink"},externalLinkTarget:{type:String,default:"_blank",validator:t=>t==="_blank"||t==="_self"},tooltip:{type:Array,default:()=>[]},tooltipAsync:{type:Array,default:()=>[]},tooltipStyles:{type:Object,default:()=>({})},source:{type:String,default:""},url:{type:String,default:""},value:{type:String,default:""},type:{type:String,default:""},spaceAfter:{type:Boolean,default:!1}},data(){return{isLoading:!1,scrollResizeTimeout:null,showTooltip:!1}},computed:{vueRouterAvailable(){return!!this.$router},renderAs(){let t="span";return this.hasValidUrl&&(t="a"),this.source&&(t=this.vueRouterAvailable?this.renderLinkAs:"a"),this.source&&this.type&&(t="button"),t},hasValidUrl(){return this.url&&(this.url.match(/^([a-z][a-z0-9+\-.]*:\/\/)/)||this.url.match(/^mailto:/)||this.url.match(/^tel:/))}},watch:{tooltip(t){t&&(this.isLoading=!1,this.showTooltip=!0)}},mounted(){window.addEventListener("scroll",this.scrollResize),window.addEventListener("resize",this.scrollResize)},destroyed(){window.removeEventListener("scroll",this.scrollResize),window.removeEventListener("resize",this.scrollResize)},methods:{chipClicked(){this.$emit("chip-clicked",{source:this.source,type:this.type})},async tooltipClicked(){if(this.tooltip.length){this.showTooltip=!this.showTooltip;return}this.tooltipAsync.length&&(this.isLoading=!0,this.$emit("tooltip-clicked",this.tooltipAsync))},closeTooltip(){!this.showTooltip||(this.showTooltip=!1)},scrollResize(){this.scrollResizeTimeout&&(clearTimeout(this.scrollResizeTimeout),this.scrollResizeTimeout=null),this.scrollResizeTimeout=setTimeout(()=>{this.showTooltip&&this.closeTooltip()},100)}}};var u=function(){var e=this,s=e._self._c;return s(e.renderAs,{directives:[{name:"click-outside",rawName:"v-click-outside",value:()=>e.closeTooltip(),expression:"() => closeTooltip()"}],tag:"component",class:["base-link",{"base-link--external":e.hasValidUrl,"base-link--internal":e.source&&!e.type,"base-link--chip":e.source&&e.type,"base-link--tooltip":e.tooltip.length||e.tooltipAsync.length,"base-link--active":e.showTooltip,"base-link--space-after":e.spaceAfter}],attrs:{tabindex:e.source||e.hasValidUrl||e.source&&e.type||e.tooltip.length?0:null,role:e.tooltip.length?"button":null,href:e.source||e.hasValidUrl?e.source||e.url:null,to:e.vueRouterAvailable&&e.source&&!e.type?"/"+e.source:null,target:e.hasValidUrl&&e.externalLinkTarget==="_blank"?"_blank":null,title:e.source||e.hasValidUrl||e.source&&e.type?e.value:null},on:{click:function(l){e.source&&e.type&&e.chipClicked}}},[!e.tooltip.length&&!e.tooltipAsync.length?[e._v(" "+e._s(e.value)+" ")]:e._e(),e.tooltip.length&&!e.source||e.tooltipAsync.length&&!e.source?[s("span",{staticClass:"base-link__label",on:{keydown:function(l){if(!l.type.indexOf("key")&&e._k(l.keyCode,"enter",13,l.key,"Enter"))return null;l.preventDefault(),e.tooltip.length&&e.tooltipClicked},click:e.tooltipClicked}},[e._v(" "+e._s(e.value)+" "),s("span",{ref:"icon",staticClass:"base-link__icon"},[s("BaseIcon",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],attrs:{name:"information"}})],1),e.isLoading?s("span",{staticClass:"base-link__loader"},[e.isLoading?s("BaseLoader"):e._e()],1):e._e()]),e.showTooltip?s("BaseTooltip",{attrs:{"attach-to":e.$refs.icon,styles:e.tooltipStyles}},[e._t("tooltip",function(){return[e.tooltip.label?s("span",{staticClass:"base-tooltip__label"},[e._v(" "+e._s(e.tooltip.label)+" ")]):e._e(),e._l(e.tooltip,function(l,i){return s("div",{key:i,staticClass:"base-tooltip__row"},[e._v(" "+e._s(l.label)+": "),l.url?[s("a",{staticClass:"base-link--external",attrs:{href:l.url,title:l.value}},[e._v(" "+e._s(l.value)+" ")])]:[e._v(e._s(l.value))]],2)})]},{item:e.tooltip})],2):e._e()]:e._e()],2)},p=[],d=a.default(c,u,p,!1,null,"22bc0e40",null,null);const h=d.exports;exports.default=h;
//# sourceMappingURL=BaseLink.cjs.js.map
