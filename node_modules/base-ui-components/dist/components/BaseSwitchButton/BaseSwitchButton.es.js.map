{"version":3,"file":"BaseSwitchButton.es.js","sources":["../../../src/components/BaseSwitchButton/BaseSwitchButton.vue"],"sourcesContent":["<template>\n  <!-- REMINDER: fieldset tag does not work with flexbox (in chrome and edge) -->\n  <fieldset\n    class=\"base-switch-buttons\">\n    <legend\n      class=\"hide\">\n      {{ label }}\n    </legend>\n    <template\n      v-for=\"(option, index) in options\">\n      <label\n        :key=\"option.value + 'label'\"\n        :for=\"optionIds[index]\"\n        :class=\"['base-switch-button__label',\n                 { 'base-switch-button__label__active': option.value === selectedOption }]\">\n        <input\n          :id=\"optionIds[index]\"\n          :key=\"option.value + 'input'\"\n          v-model=\"selectedOption\"\n          :tabindex=\"option.value === selectedOption ? 0 : -1\"\n          :checked=\"option.value === selectedOption\"\n          :aria-checked=\"option.value === selectedOption\"\n          :value=\"option.value\"\n          :name=\"label\"\n          :class=\"['hide', 'base-switch-button__input']\"\n          type=\"radio\"\n          @keydown.enter.prevent=\"\">\n        {{ option.label }}\n        <!-- @slot slot to display something right of text (e.g. icon)\n        @binding {string} value - the value of the option object\n        --->\n        <slot\n          :value=\"option.value\"\n          name=\"right-of-text\" />\n      </label>\n    </template>\n  </fieldset>\n</template>\n\n<script>\n/**\n * accessible tab switch buttons\n */\nexport default {\n  name: 'BaseSwitchButton',\n  model: {\n    prop: 'activeTab',\n    event: 'switch',\n  },\n  props: {\n    /**\n     * specify the tabs as array of object with `value` and `label` properties\n     */\n    options: {\n      type: Array,\n      default: () => [{ label: 'tab', value: 'tab' }],\n    },\n    /**\n     * set the currently active tab (specify the value of the object not the label)\n     */\n    activeTab: {\n      type: String,\n      default() {\n        return this.options[0] ? this.options[0].value : 'tab';\n      },\n    },\n    /**\n     * set a label for the switches, not visible but needed for accessibility\n     */\n    label: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selectedOption: this.activeTab,\n    };\n  },\n  computed: {\n    // to ensure a unique id (made problems on field duplication)\n    optionIds() {\n      return this.options.map(option => this.generateId(option.value));\n    },\n  },\n  watch: {\n    selectedOption(val) {\n      /**\n       * Event emitted on options switch, value of options object is emitted\n       *\n       * @event switch\n       * @param { string } - the `value` of the selected option object\n       */\n      this.$emit('switch', val);\n    },\n    activeTab(val) {\n      if (val !== this.selectedOption) {\n        this.selectedOption = val;\n      }\n    },\n  },\n  methods: {\n    generateId(value) {\n      return `${value}${(Math.floor(Math.random() * 1000000)).toString()}`;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  @import '../../styles/variables.scss';\n\n  .base-switch-buttons {\n    clear: both;\n    position: relative;\n    line-height: $row-height-small;\n  }\n\n  .base-switch-button__label {\n    cursor: pointer;\n    background-color: inherit;\n    padding: $spacing-small-half $spacing;\n    position: relative;\n    border: 1px solid rgba(255, 255, 255, 0);\n\n    &.base-switch-button__label__active {\n      border: $input-field-border;\n      transition: border 0.2s ease;\n    }\n\n    &:focus-within {\n      border-bottom-color: $app-color;\n    }\n  }\n\n  @media screen and (max-width: $mobile) {\n    .base-switch-buttons {\n      margin: $spacing-small 0;\n\n      input.base-switch-button__label {\n        padding: $spacing-small $spacing;\n      }\n    }\n  }\n</style>\n"],"names":["_sfc_main","option","val","value"],"mappings":";;AA2CA,MAAAA,IAAA;AAAA,EACA,MAAA;AAAA,EACA,OAAA;AAAA,IACA,MAAA;AAAA,IACA,OAAA;AAAA,EACA;AAAA,EACA,OAAA;AAAA,IAIA,SAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA,MAAA,CAAA,EAAA,OAAA,OAAA,OAAA,OAAA;AAAA,IACA;AAAA,IAIA,WAAA;AAAA,MACA,MAAA;AAAA,MACA,UAAA;AACA,eAAA,KAAA,QAAA,KAAA,KAAA,QAAA,GAAA,QAAA;AAAA,MACA;AAAA,IACA;AAAA,IAIA,OAAA;AAAA,MACA,MAAA;AAAA,MACA,UAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,gBAAA,KAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,UAAA;AAAA,IAEA,YAAA;AACA,aAAA,KAAA,QAAA,IAAA,CAAAC,MAAA,KAAA,WAAAA,EAAA,KAAA,CAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AAAA,IACA,eAAAC,GAAA;AAOA,WAAA,MAAA,UAAAA,CAAA;AAAA,IACA;AAAA,IACA,UAAAA,GAAA;AACA,MAAAA,MAAA,KAAA,mBACA,KAAA,iBAAAA;AAAA,IAEA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,WAAAC,GAAA;AACA,aAAA,GAAAA,IAAA,KAAA,MAAA,KAAA,OAAA,IAAA,GAAA,EAAA,SAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;"}