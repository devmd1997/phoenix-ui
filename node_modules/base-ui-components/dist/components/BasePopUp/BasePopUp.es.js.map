{"version":3,"file":"BasePopUp.es.js","sources":["../../../src/components/BasePopUp/BasePopUp.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"showInt\"\n    :class=\"['base-pop-up',\n             { 'base-pop-up--fullscreen-on-mobile': fullscreenOnMobile }]\">\n    <div class=\"base-pop-up-background\" />\n    <div\n      ref=\"popUpBody\"\n      role=\"alertdialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"popup-title\"\n      aria-describedby=\"descriptionElementId\"\n      class=\"popup-box\">\n      <!-- POP UP HEADER -->\n      <div class=\"popup-header\">\n        <div\n          id=\"popup-title\"\n          class=\"popup-title\">\n          {{ title }}\n        </div>\n        <!-- @event close -->\n        <button\n          type=\"button\"\n          aria-label=\"close pop up\"\n          class=\"base-popup__close-button\"\n          @click=\"close\">\n          <base-icon\n            class=\"popup-remove\"\n            name=\"remove\" />\n        </button>\n      </div>\n\n      <!-- POP UP CONTENT -->\n      <div class=\"popup-content\">\n        <!-- @slot slot to fill the body of the box with custom content -->\n        <slot />\n        <div class=\"popup-button-row\">\n          <!-- @slot custom button row -->\n          <slot name=\"button-row\">\n            <BaseButton\n              id=\"popup-left-button\"\n              :text=\"buttonLeftText\"\n              :icon=\"buttonLeftIcon\"\n              :icon-position=\"'right'\"\n              :icon-size=\"'small'\"\n              class=\"base-popup-button\"\n              @clicked=\"buttonLeft\" />\n            <BaseButton\n              id=\"popup-right-button\"\n              :text=\"buttonRightText\"\n              :icon=\"!isLoading ? buttonRightIcon : ''\"\n              :icon-position=\"'right'\"\n              :icon-size=\"'small'\"\n              :disabled=\"buttonRightDisabled\"\n              class=\"base-popup-button\"\n              @clicked=\"buttonRight\">\n              <template\n                #right-of-text>\n                <span\n                  v-show=\"isLoading\"\n                  class=\"base-popup-button-loader\">\n                  <BaseLoader />\n                </span>\n              </template>\n            </BaseButton>\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BaseIcon from '@/components/BaseIcon/BaseIcon';\nimport popUpLock from '../../mixins/popUpLock';\n\n/**\n * A component as overlay to display messages\n *\n */\n\nexport default {\n  name: 'BasePopUp',\n  components: {\n    BaseIcon,\n    BaseButton: () => import('../BaseButton/BaseButton').then(m => m.default || m),\n    BaseLoader: () => import('../BaseLoader/BaseLoader').then(m => m.default || m),\n  },\n  mixins: [popUpLock],\n  props: {\n    /**\n     * could be used to control visibility\n     */\n    show: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * pop up header text\n     */\n    title: {\n      type: String,\n      default: 'Pop Up',\n    },\n    /**\n     * specify the id of the element containing a description - for accessibility only\n     */\n    descriptionElementId: {\n      type: String,\n      default: '',\n    },\n    /**\n     * text shown in left button\n     */\n    buttonLeftText: {\n      type: String,\n      default: 'Cancel',\n    },\n    /**\n     * text shown in right button\n     */\n    buttonRightText: {\n      type: String,\n      default: 'Submit',\n    },\n    /**\n     * icon shown in left button\n     */\n    buttonLeftIcon: {\n      type: String,\n      default: 'remove',\n    },\n    /**\n     * icon shown in right button\n     */\n    buttonRightIcon: {\n      type: String,\n      default: 'check-mark',\n    },\n    /**\n     * disable right button\n     */\n    buttonRightDisabled: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * if true button loader will be shown\n     */\n    isLoading: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * selector to focus if popup is open\n     */\n    isOpenFocus: {\n      type: String,\n      default: '',\n    },\n    /**\n     * specify to render component with max height and width\n     */\n    fullscreenOnMobile: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      showInt: this.show,\n      // this is needed for popUpLock mixin!\n      targetName: 'popUpBody',\n    };\n  },\n  watch: {\n    show(val) {\n      if (!this.showInt && !this.prevActiveElement) {\n        this.prevActiveElement = document.activeElement;\n      }\n      this.showInt = val;\n    },\n  },\n  updated() {\n    setTimeout(() => {\n      if (this.showInt) {\n        if (this.isOpenFocus !== '' && this.$el.querySelector(this.isOpenFocus)) {\n          this.$el.querySelector(this.isOpenFocus).focus();\n        }\n      } else if (this.prevActiveElement) {\n        this.prevActiveElement.focus();\n        this.prevActiveElement = false;\n      }\n    }, 250);\n  },\n  mounted() {\n    document.onkeyup = (e) => {\n      const event = e || window.event;\n      if (document.querySelector('.popup-box')) {\n        if (event.keyCode === 27 || event.key === 'Escape') { // 27 === ESC\n          const btn = document.querySelector('.popup-box .base-popup__close-button');\n          btn.dispatchEvent(new Event('click'));\n        }\n      }\n    };\n  },\n  methods: {\n    close() {\n      /**\n       * Event triggered on right top corner close action\n       *\n       * @event close\n       */\n      this.$emit('close');\n      this.showInt = false;\n    },\n    buttonRight() {\n      /**\n       * Event triggered with right button\n       *\n       * @event button-right\n       */\n      this.$emit('button-right');\n    },\n    buttonLeft() {\n      /**\n       * Event triggered with left button\n       *\n       * @event button-left\n       */\n      this.$emit('button-left');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  @import '../../styles/variables.scss';\n\n  .base-pop-up {\n    .base-pop-up-background {\n      position: fixed;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      /* specific to be higher than base header */\n      z-index: map-get($zindex, modal_bg);\n      overflow: hidden;\n    }\n\n    .popup-box {\n      box-shadow: $pop-up-shadow;\n      position: fixed;\n      top: 20vh;\n      left: 50%;\n      z-index: map-get($zindex, modal);\n      min-width: 288px;\n      width: 50%;\n      max-width: 700px;\n      display: flex;\n      flex-direction: column;\n      transform: translateX(-50%);\n\n      .popup-header {\n        background-color: $button-header-color;\n        height: $row-height-large;\n        padding: 0 #{$spacing};\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        flex-shrink: 0;\n\n        .base-popup__close-button {\n          &:active, &:focus {\n            color: $app-color;\n            fill: $app-color;\n          }\n\n          .popup-remove {\n            width: $icon-medium;\n            cursor: pointer;\n          }\n        }\n      }\n\n      .popup-content {\n        padding: $spacing;\n        background-color: white;\n\n        .popup-button-row {\n          margin-top: $spacing;\n          display: flex;\n          flex-direction: row;\n\n          /* TODO: check if button size should just be adjustable via props in general\" */\n          .base-popup-button {\n            margin-right: $spacing;\n            // width: calc(50% - 8px);\n            flex-basis: 50%;\n          }\n\n          & .base-popup-button:last-child {\n            margin-right: 0;\n          }\n\n          .base-popup-button-loader {\n            position: relative;\n            transform: scale(0.5);\n            margin-left: $spacing;\n            padding-left: $spacing;\n          }\n        }\n      }\n    }\n  }\n\n  @media screen and (max-width: $tablet) {\n    .base-pop-up {\n      .popup-box {\n        max-width: 100%;\n        width: 70%;\n      }\n    }\n  }\n\n  @media screen and (max-width: $mobile) {\n    .base-pop-up {\n      .popup-box {\n        max-width: 100%;\n        width: 90%;\n        top: 10vh;\n\n        .popup-content {\n          padding: $spacing $spacing-small;\n\n          .popup-button-row {\n            flex-wrap: wrap;\n\n            & .base-popup-button {\n              margin-right: 0;\n              flex-basis: 100%;\n            }\n\n            & .base-popup-button:last-child {\n              margin-top: $spacing-small;\n            }\n          }\n        }\n      }\n\n      &.base-pop-up--fullscreen-on-mobile {\n        .popup-box {\n          top: 0;\n          width: 100%;\n          min-height: 100%;\n          height: 100%;\n\n          .popup-content {\n            display: flex;\n            flex: auto;\n            flex-direction: column;\n\n            .body {\n              flex: auto;\n              align-content: flex-start;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  @media screen and (max-height: 1042px) {\n    .base-pop-up {\n      .popup-box {\n        top: 10vh;\n      }\n    }\n  }\n\n  @media screen and (max-height: 500px) {\n    .base-pop-up {\n      .popup-box {\n        top: 2vh;\n      }\n    }\n  }\n</style>\n"],"names":["_sfc_main","BaseIcon","m","popUpLock","val","e","event"],"mappings":";;;;AAiFA,MAAAA,IAAA;AAAA,EACA,MAAA;AAAA,EACA,YAAA;AAAA,IACA,UAAAC;AAAA,IACA,YAAA,MAAA,OAAA,kCAAA,KAAA,CAAAC,MAAAA,EAAA,WAAAA,CAAA;AAAA,IACA,YAAA,MAAA,OAAA,kCAAA,KAAA,CAAAA,MAAAA,EAAA,WAAAA,CAAA;AAAA,EACA;AAAA,EACA,QAAA,CAAAC,CAAA;AAAA,EACA,OAAA;AAAA,IAIA,MAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,OAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,sBAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,gBAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,iBAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,gBAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,iBAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,qBAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,WAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,aAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IAIA,oBAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,SAAA,KAAA;AAAA,MAEA,YAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,OAAA;AAAA,IACA,KAAAC,GAAA;AACA,MAAA,CAAA,KAAA,WAAA,CAAA,KAAA,sBACA,KAAA,oBAAA,SAAA,gBAEA,KAAA,UAAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,UAAA;AACA,eAAA,MAAA;AACA,MAAA,KAAA,UACA,KAAA,gBAAA,MAAA,KAAA,IAAA,cAAA,KAAA,WAAA,KACA,KAAA,IAAA,cAAA,KAAA,WAAA,EAAA,UAEA,KAAA,sBACA,KAAA,kBAAA,SACA,KAAA,oBAAA;AAAA,IAEA,GAAA,GAAA;AAAA,EACA;AAAA,EACA,UAAA;AACA,aAAA,UAAA,CAAAC,MAAA;AACA,YAAAC,IAAAD,KAAA,OAAA;AACA,MAAA,SAAA,cAAA,YAAA,MACAC,EAAA,YAAA,MAAAA,EAAA,QAAA,aACA,SAAA,cAAA,sCAAA,EACA,cAAA,IAAA,MAAA,OAAA,CAAA;AAAA,IAGA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,QAAA;AAMA,WAAA,MAAA,OAAA,GACA,KAAA,UAAA;AAAA,IACA;AAAA,IACA,cAAA;AAMA,WAAA,MAAA,cAAA;AAAA,IACA;AAAA,IACA,aAAA;AAMA,WAAA,MAAA,aAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;"}