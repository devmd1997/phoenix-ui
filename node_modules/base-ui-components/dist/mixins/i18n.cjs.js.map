{"version":3,"file":"i18n.cjs.js","sources":["../../src/mixins/i18n.js"],"sourcesContent":["export default {\n  computed: {\n    /**\n     * check if i18n plugin is available\n     * @returns {boolean}\n     */\n    hasI18n() {\n      return Boolean(this.$i18n);\n    },\n  },\n  methods: {\n    /**\n     * get the i18n term from json files present in your project - this works exactly like\n     * vue-i18n except that the count variable can not be skipped if you want to use\n     * named formatting\n     *\n     * @param {string} key - your locale file key\n     * @param {number} count - your count number for pluralization\n     * @param {object} variables - your object for named formatting - object property needs\n     *  to be named like the localization file variable\n     *  (https://kazupon.github.io/vue-i18n/guide/formatting.html)\n     * @returns {string}\n     */\n    getI18nTerm(key, count = -1, variables = {}) {\n      if (!key) return '';\n      if (this.hasI18n && this.$te(key)) {\n        if (count >= 0) {\n          return this.$tc(key, count, variables);\n        }\n        return this.$t(key, variables);\n      }\n      const termPath = key.split('.');\n      return termPath.pop() || key;\n    },\n    /**\n     * function to provide an object with translations for all available languages\n     * @param {string} key - the locale file key\n     * @param {string[]} locales - an array of available locales\n     * @returns {Object}\n     */\n    setLangLabels(key, locales) {\n      return locales\n        .reduce((prev, curr) => {\n          this.$set(prev, curr, this.$i18n\n            ? this.$t(key, curr) : key.split('.').pop());\n          return prev;\n        }, {});\n    },\n    /**\n     * function to\n     * a) check if provided value is a language object and if yes\n     * b) get the correct label from an object with language (ISO 639-1) as property\n     *    (e.g. { de: 'yyy', en: 'xxx' })\n     * @param {string|Object} value - the string or object to be processed\n     * @param {boolean} useAny - specify if a label in a different language should be used\n     *  if the currently set language has no result\n     * @returns {Object|string}\n     */\n    getLangLabel(value, useAny = false) {\n      const language = this.hasI18n\n        ? this.language || this.$i18n.locale : this.language;\n      if (typeof value === 'string') return value;\n      if (value && language && value[language]) {\n        return value[language];\n      }\n      if (value && language && useAny) {\n        const availableLang = Object.keys(value).find(key => !!value[key]);\n        // return the first one that has content\n        return value[availableLang] || value[language] || '';\n      }\n      return value;\n    },\n  },\n};\n"],"names":["i18n","computed","hasI18n","Boolean","$i18n","methods","getI18nTerm","key","count","arguments","length","undefined","variables","$te","$tc","$t","termPath","split","pop","setLangLabels","locales","_this","reduce","prev","curr","$set","getLangLabel","value","useAny","language","locale","availableLang","Object","keys","find"],"mappings":"4GAAA,MAAeA,EAAA,CACbC,SAAU,CAKRC,QAAO,UAAG,CACR,OAAOC,QAAQ,KAAKC,KAAK,CAC3B,CACD,EACDC,QAAS,CAaPC,YAAW,SAACC,EAAiC,CAAA,IAA5BC,EAAKC,UAAAC,OAAA,GAAAD,UAAA,KAAAE,OAAAF,UAAA,GAAG,GAAIG,EAASH,UAAAC,OAAA,GAAAD,UAAA,KAAAE,OAAAF,UAAA,GAAG,CAAA,EACvC,GAAI,CAACF,EAAK,MAAO,GACjB,GAAI,KAAKL,SAAW,KAAKW,IAAIN,CAAG,EAC9B,OAAIC,GAAS,EACJ,KAAKM,IAAIP,EAAKC,EAAOI,CAAS,EAEhC,KAAKG,GAAGR,EAAKK,CAAS,EAE/B,IAAMI,EAAWT,EAAIU,MAAM,GAAG,EAC9B,OAAOD,EAASE,IAAK,GAAIX,CAC1B,EAODY,cAAaA,SAACZ,EAAKa,EAAS,CAAA,IAAAC,EAAA,KAC1B,OAAOD,EACJE,OAAO,SAACC,EAAMC,EAAS,CACtBH,OAAAA,EAAKI,KAAKF,EAAMC,EAAMH,EAAKjB,MACvBiB,EAAKN,GAAGR,EAAKiB,CAAI,EAAIjB,EAAIU,MAAM,GAAG,EAAEC,IAAG,CAAE,EACtCK,CACR,EAAE,CAAE,CAAA,CACR,EAWDG,aAAY,SAACC,EAAuB,CAAA,IAAhBC,EAAMnB,UAAAC,OAAA,GAAAD,UAAA,KAAAE,OAAAF,UAAA,GAAG,GACrBoB,EAAW,KAAK3B,QAClB,KAAK2B,UAAY,KAAKzB,MAAM0B,OAAS,KAAKD,SAC9C,GAAI,OAAOF,GAAU,SAAU,OAAOA,EACtC,GAAIA,GAASE,GAAYF,EAAME,GAC7B,OAAOF,EAAME,GAEf,GAAIF,GAASE,GAAYD,EAAQ,CAC/B,IAAMG,EAAgBC,OAAOC,KAAKN,CAAK,EAAEO,KAAK,SAAA3B,EAAG,CAAA,MAAI,CAAC,CAACoB,EAAMpB,GAAK,EAElE,OAAOoB,EAAMI,IAAkBJ,EAAME,IAAa,EACpD,CACA,OAAOF,CACT,CACF,CACF"}