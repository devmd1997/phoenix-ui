"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("../BaseInput/BaseInput.cjs.js"),r=require("../BaseIcon/BaseIcon.cjs.js"),s=require("../../utils/utils.cjs.js");require("./BaseMultilineTextInput.vue_vue_type_style_index_0_scoped_521dc393_lang.cjs.js");const l=require("../../_virtual/_plugin-vue2_normalizer.cjs.js"),u={name:"BaseMultilineTextInput",components:{BaseInput:a.default,BaseIcon:r.default,BaseSwitchButton:()=>Promise.resolve().then(()=>require("../BaseSwitchButton/BaseSwitchButton.cjs.js")).then(t=>t.default||t)},model:{prop:"input",event:"input"},props:{input:{type:[Object,String],default:""},label:{type:String,default:""},showLabel:{type:Boolean,default:!0},placeholder:{type:String,default:""},tabs:{type:Array,default:()=>["default"]},tabLabels:{type:Array,default:()=>[]},activeTab:{type:String,default(){return this.tabs[0]||"default"}},tabsLegend:{type:String,default:"Radiogroup"},id:{type:[String,Number],default:""},language:{type:String,default:""},required:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},errorMessage:{type:String,default:""},showErrorIcon:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1}},data(){return{activeTabInt:this.activeTab||"default",fieldContent:{},isActive:!1}},computed:{idInt(){return this.id||s.createId()},switchTabs(){return this.tabs.map((t,e)=>({value:t,label:this.tabLabels[e]||t}))},inputListeners(){return{...this.$listeners,input:()=>{this.$emit("input",this.emitFieldContent())}}},showFadeOut(){return this.$refs&&this.$refs.textarea?!this.isActive&&this.$refs.textarea.scrollHeight>this.$refs.textareaWrapper.clientHeight:!this.isActive}},watch:{input:{handler(t){(typeof t=="object"&&JSON.stringify(t)!==JSON.stringify(this.fieldContent)||typeof t=="string"&&t!==this.fieldContent[this.activeTabInt])&&this.setFieldContent(t)},immediate:!0,deep:!0},activeTab(t){this.activeTabInt=t}},methods:{setFieldContent(t){if(this.tabs.length<2){const e=this.activeTabInt||"default";this.$set(this.fieldContent,e,typeof t=="string"?t:t[e])}else this.tabs.forEach(e=>this.$set(this.fieldContent,e,t[e]))},emitFieldContent(){return typeof this.input=="object"?this.fieldContent:this.fieldContent[this.activeTabInt]},hasText(t){return!!this.fieldContent[t]}}};var o=function(){var e=this,n=e._self._c;return n("BaseInput",e._g({staticClass:"base-multiline-text-input",attrs:{id:e.idInt,"is-active":e.isActive,label:e.label,"show-label":e.showLabel,placeholder:e.placeholder,required:e.required,invalid:e.invalid,disabled:e.disabled,"show-error-icon":e.showErrorIcon,"error-message":e.errorMessage,clearable:e.clearable,"use-fade-out":!1},on:{"update:isActive":function(i){e.isActive=i},"update:is-active":function(i){e.isActive=i}},scopedSlots:e._u([{key:"label-addition",fn:function(){return[n("div",{staticClass:"base-multiline-text-input__additions"},[e._t("label-addition"),e.tabs&&e.tabs[0]!=="default"?n("BaseSwitchButton",{staticClass:"base-multiline-text-input__tabs",attrs:{options:e.switchTabs,label:e.tabsLegend,"active-tab":e.activeTab},scopedSlots:e._u([{key:"right-of-text",fn:function(i){return[e.hasText(i.value)?n("BaseIcon",{staticClass:"base-multiline-text-input__text-icon",attrs:{name:"text"}}):e._e()]}}],null,!1,3542795371),model:{value:e.activeTabInt,callback:function(i){e.activeTabInt=i},expression:"activeTabInt"}}):e._e()],2)]},proxy:!0},{key:"input",fn:function(){return[n("div",{ref:"textareaWrapper",class:["base-multiline-text-input__textarea-wrapper",{"base-multiline-text-input__textarea-wrapper__fade-out":e.showFadeOut}]},[n("textarea",e._g({directives:[{name:"model",rawName:"v-model",value:e.fieldContent[e.activeTabInt],expression:"fieldContent[activeTabInt]"}],ref:"textarea",staticClass:"base-multiline-text-input__textarea",attrs:{id:e.idInt,required:e.required,"aria-required":e.required.toString(),"aria-describedby":e.idInt,"aria-invalid":e.invalid.toString(),disabled:e.disabled,"aria-disabled":e.disabled.toString(),placeholder:e.placeholder},domProps:{value:e.fieldContent[e.activeTabInt]},on:{keydown:function(i){if(!i.type.indexOf("key")&&e._k(i.keyCode,"tab",9,i.key,"Tab"))return null;e.isActive=!1},input:function(i){i.target.composing||e.$set(e.fieldContent,e.activeTabInt,i.target.value)}}},e.inputListeners))])]},proxy:!0},{key:"input-field-addition-before",fn:function(){return[e._t("input-field-addition-before")]},proxy:!0},{key:"input-field-addition-after",fn:function(){return[e._t("input-field-addition-after")]},proxy:!0},{key:"post-input-field",fn:function(){return[e._t("post-input-field")]},proxy:!0},{key:"error-icon",fn:function(){return[e._t("error-icon")]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("remove-icon")]},proxy:!0}],null,!0),model:{value:e.fieldContent[e.activeTabInt],callback:function(i){e.$set(e.fieldContent,e.activeTabInt,i)},expression:"fieldContent[activeTabInt]"}},e.$listeners))},d=[],c=l.default(u,o,d,!1,null,"521dc393",null,null);const f=c.exports;exports.default=f;
//# sourceMappingURL=BaseMultilineTextInput.cjs.js.map
