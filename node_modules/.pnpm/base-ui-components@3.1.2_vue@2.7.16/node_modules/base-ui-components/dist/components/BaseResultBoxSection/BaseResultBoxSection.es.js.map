{"version":3,"file":"BaseResultBoxSection.es.js","sources":["../../../src/components/BaseResultBoxSection/BaseResultBoxSection.vue"],"sourcesContent":["<template>\n  <div class=\"base-result-box-section\">\n    <!-- LOADER -->\n    <div\n      v-if=\"isLoading\"\n      class=\"base-result-box-section__loading\">\n      <BaseLoader class=\"base-result-box-section__loader\" />\n    </div>\n\n    <!-- RESULT BOX SECTION AREA -->\n    <div\n      class=\"base-result-box-section__container\">\n      <!-- HEADER ROW -->\n      <div\n        v-if=\"showHeader\"\n        class=\"base-result-box-section__header-row\">\n        <!-- HEADER WITH OPTIONS -->\n        <BaseOptions\n          v-if=\"showOptions\"\n          :show-options=\"editModeActive\"\n          :options-button-icon=\"optionsButtonIcon\"\n          :options-button-text=\"optionsButtonText\"\n          use-options-button-on=\"always\"\n          @update:show-options=\"optionsToggle\">\n          <template #beforeOptions>\n            <!-- @slot add a custom header instead of headerText -->\n            <slot name=\"header\">\n              <h3\n                v-if=\"headerText\"\n                class=\"base-result-box-section__header\">\n                {{ headerText }}\n              </h3>\n            </slot>\n          </template>\n\n          <!-- ACTIONS FOR BOXES -->\n          <template\n            #options>\n            <!-- @slot add custom option/action elements in the header row\n              @binding {Function} submit-action - the method that should be called after the action button was clicked\n            -->\n            <slot\n              name=\"optionButtons\"\n              :submit-action=\"submitAction\">\n              <!-- default iterate through optionsConfig array -->\n              <template v-for=\"action of actionButtonsConfig\">\n                <BaseButton\n                  v-if=\"action.display === 'top' || action.display === 'all' || !action.display\"\n                  :key=\"action.text\"\n                  :text=\"getI18nString(action.text)\"\n                  :icon=\"action.icon\"\n                  :has-background-color=\"false\"\n                  :disabled=\"action.disabled\"\n                  icon-size=\"large\"\n                  button-style=\"single\"\n                  @clicked=\"submitAction(action.value)\" />\n              </template>\n            </slot>\n          </template>\n        </BaseOptions>\n\n        <!-- HEADER ONLY -->\n        <template v-else>\n          <slot name=\"header\">\n            <h3\n              v-if=\"headerText\"\n              class=\"base-result-box-section__header\">\n              {{ headerText }}\n            </h3>\n          </slot>\n        </template>\n      </div>\n\n      <div\n        :class=\"['base-result-box-section__background',\n                 {\n                   'base-result-box-section__background--white':\n                     editModeWhiteBackground && editModeActive,\n                 }]\">\n        <!-- MESSAGE AND FOLLOW UP ACTION AREA FOR EDIT MODE -->\n        <!-- MESSAGE AREA -->\n        <div\n          v-if=\"editModeActive\"\n          :key=\"headerText + '_messageArea'\"\n          class=\"base-result-box-section__message-area\">\n          <div class=\"base-result-box-section__message-area-text\">\n            {{ messageText }}\n          </div>\n          <span class=\"base-result-box-section__message-area-subtext\">{{ messageSubtext }}</span>\n          <!-- @slot add a custom element after the message area -->\n          <slot name=\"optionsMessageAreaAfter\" />\n        </div>\n\n        <!-- SELECT OPTIONS (NUMBER OF SELECTED AND SELECT ALL) -->\n\n        <!-- adding a indicator of how many items are selected and 'select all' button\n        only shown in select mode -->\n        <BaseSelectOptions\n          v-if=\"editModeActive\"\n          :key=\"headerText + '_selectOptions'\"\n          :selected-number-text=\"getI18nString(selectOptionsText.entriesSelected)\"\n          :select-text=\"getI18nString(selectOptionsText.selectAll)\"\n          :deselect-text=\"getI18nString(selectOptionsText.selectNone)\"\n          :list=\"visibleBoxes\"\n          :selected-list=\"selectedListInt\"\n          @selected=\"selectAllTriggered\" />\n        <span\n          aria-live=\"assertive\"\n          class=\"supportive-text\">\n          {{ currentSupportiveText }}\n        </span>\n        <!-- BOXES AREA -->\n        <template v-if=\"entryListInt.length\">\n          <component\n            :is=\"draggableComponent\"\n            ref=\"resultBoxesArea\"\n            v-model=\"visibleBoxes\"\n            :animation=\"draggable ? 150 : false\"\n            :tag=\"draggable ? 'ul' : false\"\n            :draggable=\"editModeActive ? '.base-result-box-section__result-box-item' : false\"\n            :aria-label=\"headerText\"\n            tabindex=\"0\"\n            handle=\".base-result-box-section__result-box-item__draggable .base-image-box-content\"\n            force-fallback=\"true\"\n            role=\"list\"\n            class=\"base-result-box-section__boxes-container\">\n            <li\n              v-for=\"(entry, index) of visibleBoxes\"\n              :id=\"`li-${entry.id}`\"\n              :key=\"getPropValue(identifierPropertyName, entry)\"\n              ref=\"resultBoxItem\"\n              :tabindex=\"editModeActive || !disableListElementFocus ? 0 : -1\"\n              :aria-label=\"getPropValue(titlePropertyName, entry)\"\n              :aria-grabbed=\"(movableElementId === entry.id).toString()\"\n              :aria-selected=\"editModeActive ? (isEntrySelected(entry)).toString() : false\"\n              :class=\"['base-result-box-section__box-item',\n                       'base-result-box-section__result-box-item',\n                       { 'base-result-box-section__box-item__hidden': !initialBoxCalcDone },\n                       `base-result-box-section__box-item-${elementId}`,\n                       {\n                         'base-result-box-section__result-box-item__draggable':\n                           draggable && editModeActive,\n                       },\n                       {\n                         'base-result-box-section__result-box-item__dragging':\n                           movableElementId === entry.id,\n                       }]\"\n              @keydown.enter=\"onEnterKey($event, entry, index)\"\n              @keydown.up.down.left.right.prevent=\"editModeActive && draggable && movableElementId\n                ? moveEntry($event, index) : false\"\n              @keydown.space.prevent=\"editModeActive ? entrySelected(\n                getPropValue(identifierPropertyName, entry), !isEntrySelected(entry)) : false\"\n              @keydown.tab=\"cancelDragMode\">\n              <!-- @slot result-box - for custom result boxes\n                @binding {Object} item - one list item of boxes to be displayed\n                @binding {number} index - the index of the item\n                @binding {boolean} select-active - are items in select mode\n                @binding {boolean} is-entry-selected - is the particular item currently selected\n                @binding {Function} entry-selected - method that should be called when an entry was selected\n              -->\n              <slot\n                :item=\"entry\"\n                :index=\"index\"\n                :select-active=\"editModeActive\"\n                :is-entry-selected=\"isEntrySelected\"\n                :entry-selected=\"entrySelected\"\n                name=\"resultBox\">\n                <BaseImageBox\n                  :key=\"getPropValue(identifierPropertyName, entry)\"\n                  :selectable=\"imageBoxesSelectable\"\n                  :draggable=\"editModeActive && draggable\"\n                  :selected=\"isEntrySelected(entry)\"\n                  :box-size=\"{ width: 'auto' }\"\n                  :box-ratio=\"100\"\n                  :title=\"getPropValue(titlePropertyName, entry)\"\n                  :subtext=\"entry.subtext\"\n                  :description=\"entry.description\"\n                  :image-url=\"entry.imageUrl\"\n                  :box-text=\"entry.text\"\n                  :lazyload=\"true\"\n                  @select-triggered=\"entrySelected(\n                    getPropValue(identifierPropertyName, entry), $event)\"\n                  @clicked=\"entryClicked(getPropValue(identifierPropertyName, entry))\" />\n              </slot>\n            </li>\n\n            <!-- ACTION BUTTONS -->\n            <!-- @slot add custom elements after result elements list use scoped slot prop `itemsPerRow` or dynamically adjusted css variable `--items-per-row` to adjust element width in accordance with other boxes\n              @binding {number} items-per-row - items per row calculated from container or page width\n              @binding {string} element-id - add a class `base-result-box-section__box-item-${elementId}` to action button element to include it in box size and styling calculations\n            -->\n            <slot\n              v-if=\"showActionButtonBoxes && editModeActive\"\n              :items-per-row=\"itemsPerRow\"\n              :element-id=\"elementId\"\n              name=\"actionButtons\">\n              <!-- default button -->\n              <template\n                v-for=\"action of actionButtonsConfig\">\n                <BaseBoxButton\n                  v-if=\"action.display === 'bottom' || action.display === 'all' || !action.display\"\n                  :key=\"action.value\"\n                  :text=\"getI18nString(action.text)\"\n                  :box-size=\"{ width: 'calc(25% - 8rem/19 - (8rem/19/2))', height: '100%' }\"\n                  :icon=\"action.icon\"\n                  box-style=\"small\"\n                  box-type=\"button\"\n                  :class=\"['base-result-box-section__box-item',\n                           `base-result-box-section__box-item-${elementId}`]\"\n                  @clicked=\"submitAction(action.value)\" />\n              </template>\n            </slot>\n            <!-- EXPAND BUTTON -->\n            <BaseBoxButton\n              v-else-if=\"useExpandMode && !editModeActive && expandNeeded && initialBoxCalcDone\"\n              :box-size=\"{ width: 'calc(25% - 8rem/19 - (8rem/19/2))', height: '100%' }\"\n              icon=\"\"\n              text=\"\"\n              box-type=\"button\"\n              :class=\"['base-result-box-section__box-item',\n                       `base-result-box-section__box-item-${elementId}`]\"\n              @clicked=\"expandedInt = !expandedInt\">\n              <template #default>\n                <!-- needed to add v-if here again - otherwise strange side effects -->\n                <div\n                  v-if=\"!editModeActive\"\n                  class=\"base-result-box-section__expand-button__content\">\n                  <span\n                    v-if=\"!expandedInt\"\n                    class=\"base-result-box-section__expand-button__content-number\">\n                    {{ `+${(total || entryList.length) - visibleBoxes.length}` }}\n                  </span>\n                  <span\n                    :class=\"[expandedInt\n                      ? 'base-result-box-section__expand-button__content-text-expanded'\n                      : 'base-result-box-section__expand-button__content-text-collapsed']\">\n                    {{ expandedInt ? expandText.collapse : expandText.expand }}\n                  </span>\n                </div>\n              </template>\n            </BaseBoxButton>\n          </component>\n          <!-- PAGINATION -->\n          <!-- only shown if\n          * usePagination is true\n          * it is actually needed because there is more than one page\n          * edit mode is active and draggable functionality is not used\n          * edit mode is not active and rows are expanded (always true if\n            useExpandMode is set false) -->\n          <BasePagination\n            v-if=\"usePagination && pages > 1\n              && ((editModeActive && !draggable)\n                || (!editModeActive && expandedInt))\"\n            :key=\"'pagination-' + elementId\"\n            :total=\"pages\"\n            :current=\"currentPageNumberInt\"\n            :use-link-element=\"usePaginationLinkElement\"\n            @set-page=\"setPage\" />\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { extractNestedPropertyValue } from '@/utils/utils';\nimport navigateList from '../../mixins/navigateList';\nimport BaseImageBox from '../BaseImageBox/BaseImageBox';\nimport i18n from '../../mixins/i18n';\n\n/**\n * A component to display rows of boxes with or without pagination\n */\nexport default {\n  name: 'BaseResultBoxSection',\n  components: {\n    BaseImageBox,\n    BaseLoader: () => import('../BaseLoader/BaseLoader').then(m => m.default || m),\n    BaseOptions: () => import('../BaseOptions/BaseOptions').then(m => m.default || m),\n    BaseButton: () => import('../BaseButton/BaseButton').then(m => m.default || m),\n    BasePagination: () => import('../BasePagination/BasePagination').then(m => m.default || m),\n    BaseBoxButton: () => import('../BaseBoxButton/BaseBoxButton').then(m => m.default || m),\n    BaseSelectOptions: () => import('../BaseSelectOptions/BaseSelectOptions').then(m => m.default || m),\n  },\n  mixins: [i18n, navigateList],\n  model: {\n    prop: 'entryList',\n    event: 'entries-changed',\n  },\n  props: {\n    /**\n     * actual entries list - if slot `result-box` is not used to use custom elements this\n     * object array should have the following properties to be displayed\n     * in a [BaseImageBox](BaseImageBox):\n     *\n     *    **id** `string` - a unique identifier\n     *    **title** `?string` - the title of the box\n     *    **subtext** `?string` - a subtitle\n     *    **description** `?string` - text displayed at the bottom of the box\n     *    **imageUrl** `?string` - url to display an image\n     *    **text** `?string[]` - an array with strings that will be\n     *    displayed if no image is provided\n     *\n     *    if a different schema is used please use the slot 'result-box' to create your own\n     *    elements - only id and title should still be provided but can also\n     *    be customized via `identifierPropertyName` and `titlePropertyName`\n     */\n    entryList: {\n      type: Array,\n      default: () => [],\n    },\n    /**\n     * if `false` the header row (title and options) will not be available\n     *   **Caveat**: for draggable functionality this needs to be true\n     */\n    showHeader: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n     * title of section\n     * it is recommended to also set the `headerText` even if slot `header` is used for header\n     * for accessibility reasons\n     */\n    headerText: {\n      type: String,\n      default: '',\n    },\n    /**\n     * define if options should be shown\n     */\n    showOptions: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n     * set text for the options button if `showOptions` is `true`\n     *   this needs to be an object with `show` (displayed when options are hidden)\n     *   and `hide` (displayed when options are visible) attributes\n     */\n    optionsButtonText: {\n      type: Object,\n      default: () => ({\n        show: 'edit',\n        hide: 'editReturn',\n      }),\n      validator: val => ['show', 'hide'].every(requiredProp => Object.keys(val).includes(requiredProp)),\n    },\n    /**\n     * set the icon for the options button.\n     * if `showOptions` is `true` this needs to be an object with `show`\n     *  (displayed when options are hidden) and `hide` (displayed when\n     *  options are visible) attributes\n     */\n    optionsButtonIcon: {\n      type: Object,\n      default: () => ({\n        show: 'edit',\n        hide: 'remove',\n      }),\n      validator: val => ['show', 'hide'].every(requiredProp => Object.keys(val).includes(requiredProp)),\n    },\n    /**\n     * specify how many boxes should be displayed in a row in an array\n     * with \"tupples\" (array with min-size and number of boxes).\n     * depending on the size of the container (not screen width - unless\n     * `calcBoxNumberRelativeToWindow` is set to `true`)\n     * like the following:\n     *   `[[0, [number of boxes]], [[min px size for this number of boxes], [number of boxes]], ...]`\n     */\n    boxBreakpoints: {\n      type: Array,\n      default: () => ([\n        [0, 2],\n        [640, 4],\n        [1024, 6],\n      ]),\n      validator: val => val\n        .every(point => typeof point === 'object' && point.length === 2\n          && point.every(pointValue => typeof pointValue === 'number')),\n    },\n    /**\n     * set component loader active\n     */\n    isLoading: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * flag if component should be in edit mode (dragging, deleting,\n     * other custom options visible)\n     *   the [`.sync` modifier](https://vuejs.org/v2/guide/components-custom-events.html#sync-Modifier) may be used on this prop\n     */\n    editMode: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * set this variable `true` if `background-color` should be white in edit mode\n     */\n    editModeWhiteBackground: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * provide a list of selected entries for select options (can\n     * be entry objects or entry ids).\n     *  the [`.sync` modifier](https://vuejs.org/v2/guide/components-custom-events.html#sync-Modifier) may be used on this prop\n\n     */\n    selectedList: {\n      type: Array,\n      default: () => [],\n    },\n    /**\n     * set a text for '[x] entries selected' and 'select all / none'\n     */\n    selectOptionsText: {\n      type: Object,\n      default: () => ({\n        selectAll: 'select all',\n        selectNone: 'select none',\n        entriesSelected: 'entries selected',\n      }),\n    },\n    /**\n     * if slot `options-message-area` is not used this variable\n     * can be used to customize message text.\n     *   this should be a string or an object with the actions needed (default: `delete`,\n     *   if `draggable` is `true` than also a `drag` property with suiting text is needed).\n     *     in case of a string the same text is used for all actions\n     */\n    messageText: {\n      type: String,\n      default: 'Drag or Select',\n    },\n    /**\n     * if slot `options-message-area` is not used this variable\n     * can be used to customize message subtext.\n     *   this should be a string or an object with the actions needed (default: `delete`,\n     *   if `draggable` is `true` than also a `drag` property with suiting text is needed).\n     *     in case of a string the same text is used for all actions\n     */\n    messageSubtext: {\n      type: String,\n      default: 'Drag\\'n Drop to reorder or select the relevant items and choose an action',\n    },\n    /**\n     * determine if boxes can be dragged\n     *   (only applicable if `showHeader` and `showOptions` is set to `true`)\n     */\n    draggable: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * set `true` if pagination should be used\n     */\n    usePagination: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * if `usePagination` is set `true` this will determine the number of\n     * rows shown on one page\n     *   (only applicable if `usePagination` is set `true`)\n     */\n    maxRows: {\n      type: Number,\n      default: 5,\n    },\n    /**\n     * set this `true` if only a limited number of boxes should be shown\n     * and rest can be displayed by clicking a \"show more\" button\n     */\n    useExpandMode: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * if `useExpandMode` is `true` set the state of 'show more' from outside\n     *   the [`.sync` modifier](https://vuejs.org/v2/guide/components-custom-events.html#sync-Modifier) may be used on this prop\n     */\n    expanded: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * Provide text that should be shown within the button with the\n     * expand / collapse functionality.\n     *   should be an object with props `expand` for text to expand\n     *   and `collapse` for text to collapse\n     */\n    expandText: {\n      type: Object,\n      default: () => ({\n        expand: 'more objects',\n        collapse: 'collapse',\n      }),\n    },\n    /**\n     * add a number of total elements (needed for `useExpandMode` and\n     * `usePagination`)\n     */\n    total: {\n      type: Number,\n      default: null,\n    },\n    /**\n     * set the current page number from outside if `usePagination` is `true`.\n     *   the [`.sync` modifier](https://vuejs.org/v2/guide/components-custom-events.html#sync-Modifier) may be used on this prop\n     */\n    currentPageNumber: {\n      type: Number,\n      default: null,\n    },\n    /**\n     * how many rows should be shown with show more button (expandMode)\n     *   (only applicable with `useExpandMode true`)\n     */\n    maxShowMoreRows: {\n      type: Number,\n      default: 1,\n    },\n    /**\n     * define if the section should scroll to top on page change\n     *   (only applicable with `usePagination true`)\n     */\n    jumpToTop: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * define if the big button box at the end of all attached items should be shown\n     */\n    showActionButtonBoxes: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * set some config for each action used - needs to be an array of objects with the\n     *  following properties:\n     *\n     *   **text** `string` - the text displayed in the button\n     *   **icon** `string` - the icon name to display\n     *    (for available icons see [BaseIcon](BaseIcon) )\n     *   **value** `string` - the value emitted on button click\n     *   **[display='all']** `?string` - define where the action should be displayed:\n     *     *top*: only in top row\n     *     *bottom*: only in action button box at bottom of list\n     *     *all*: on top as well as bottom\n     *   **disabled** `?boolean` - disable button\n     */\n    actionButtonsConfig: {\n      type: Array,\n      default: () => [{\n        text: 'delete',\n        icon: 'waste-bin',\n        value: 'delete',\n        display: 'all',\n        disabled: false,\n      }],\n      validator: val => val.every((action) => {\n        const requiredProps = ['text', 'icon', 'value'];\n        const actionProps = Object.keys(action);\n        return requiredProps.every(prop => actionProps.includes(prop))\n          && (['all', 'top', 'bottom'].includes(action.display) || !action.display);\n      }),\n    },\n    /**\n     * define a custom identifier property name for objects in your\n     * `entryList` array.\n     *   if relevant property is contained in a nested object the string can\n     *   be in dot notation. e.g. `nestedObject.id`\n     */\n    identifierPropertyName: {\n      type: String,\n      default: 'id',\n    },\n    /**\n     * define a custom title property name for objects in your\n     * `entryList` array.\n     *   if relevant property is contained in a nested object the string can\n     *   be in dot notation. e.g. `nestedObject.title`\n     */\n    titlePropertyName: {\n      type: String,\n      default: 'title',\n    },\n    /**\n     * specify if pagination elements should be a link element - if pagination element should\n     * be a link element - please specify the kind of element (currently only Vue components (e.g.\n     * [`RouterLink`](https://router.vuejs.org/guide/#router-link),\n     * [`NuxtLink`](https://nuxtjs.org/docs/features/nuxt-components/#the-nuxtlink-component)) are supported)\n     */\n    usePaginationLinkElement: {\n      type: [String, Boolean],\n      default: false,\n      validator: val => (typeof val === 'boolean' && !val) || (typeof val === 'string' && val),\n    },\n    /**\n     * set this variable `true` if pagination is used and data fetching is done per page\n     */\n    fetchDataExternally: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * specify an additional number of px for the position the page\n     * should jump to on page change\n     */\n    scrollToOffset: {\n      type: Number,\n      default: 0,\n    },\n    /**\n     * specify an initial number of items per row that should be assumed before\n     * rendering the page\n     */\n    // this is necessary because otherwise in SSR serverside and client side DOM tree\n    // might not match\n    initialItemsPerRow: {\n      type: Number,\n      default: 6,\n    },\n    /**\n     * add text for screen reader users that helps them navigate list and use edit mode\n     * functionalities.\n     * object should have the following properties:\n     *\n     *   **description**: Text read on edit mode activation\n     *   **activated**: Text read after item was activated for reordering\n     *    (selected by enter key)\n     *    property moved can contain variable `{pos}` which will be filled with current\n     *    position\n     *   **moved**: Text read after item was moved\n     *    property moved can contain variables `{pos}` (new position) and `{total}` (total number\n     *    of list items)\n     */\n    supportiveText: {\n      type: Object,\n      default: () => ({\n        description: 'Select items via space bar to carry out actions or use enter '\n          + 'key to select an item for reordering. Use Tab key to navigate between items.',\n        activated: 'Item at position {pos} selected for reordering. Use arrow keys to order item.',\n        moved: 'Item moved to position {pos} of {total}',\n      }),\n    },\n    /**\n     * `BaseResultBoxSection` is for example used to display search results - which contain a link\n     * to the entry - in this case the focus should be on the link element so that navigation to\n     * route link triggers on enter and focus on the list element itself is disabled (if not edit\n     * mode!)\n     */\n    disableListElementFocus: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      // internal representation of entry list to be able to\n      // modify list via draggable\n      entryListInt: [],\n      // flag for edit mode activated\n      editModeActive: false,\n      // current page number\n      currentPageNumberInt: 1,\n      // store the expand state internally\n      expandedInt: false,\n      // store collapsed state on action start\n      wasExpanded: false,\n      // how many items do fit in one row\n      itemsPerRow: null,\n      // try to only do initial box size calculation once\n      initialBoxCalcDone: false,\n      // to manipulate selectedList internally\n      selectedListInt: [],\n      imageBoxesSelectable: false,\n      // unique id to assign javascript calculated styles to\n      elementId: null,\n      // store state if component is mounted and window is present\n      initialized: false,\n      /**\n       * variable for keyboard sorting - is element currently selected for moving\n       * @type {?string}\n       */\n      movableElementId: null,\n      /**\n       * add supportive text especially to ease use of drag mode accessibly\n       * @type {string}\n       */\n      currentSupportiveText: '',\n    };\n  },\n  computed: {\n    /**\n     * to lazy load vuedraggable only if draggable mode is set true\n     *\n     * @returns {string|(function(): Promise<U>)}\n     */\n    draggableComponent() {\n      if (this.draggable) {\n        return () => import('vuedraggable').then(m => (m.default || m));\n      }\n      return 'ul';\n    },\n    /**\n     * get the entries that should be displayed in the section -\n     * taking into consideration pagination and 'show more' functionality\n     * @returns {Object[]}\n     */\n    visibleBoxes: {\n      get() {\n        if (this.editModeActive && (this.draggable || !this.usePagination)) {\n          return [...this.entryListInt];\n        }\n        // if expand mode is used and status is collapsed and there\n        // are more items than can be displayed in the rows specified by 'show more'\n        // slice first few\n        if (!this.editModeActive && this.useExpandMode && !this.expandedInt && this.expandNeeded) {\n          // slice from 0 to number of rows * items per row - 1 so that the button\n          // take the last box\n          return this.entryListInt.slice(0, (this.itemsPerRow * this.maxShowMoreRows) - 1);\n        }\n        // else if pagination is active and items are not fetched from outside\n        // slice items fitting one page\n        if (this.usePagination && !this.fetchDataExternally) {\n          // slice taking into account current pagination and the total number of\n          // visible items\n          return this.entryListInt\n            .slice(\n              (this.currentPageNumberInt - 1) * this.visibleNumberOfItems,\n              this.currentPageNumberInt * this.visibleNumberOfItems,\n            );\n        }\n        if (this.fetchDataExternally) {\n          return this.entryList.slice(0, this.visibleNumberOfItems);\n        }\n        // else return complete list\n        return this.entryListInt;\n      },\n      set(val) {\n        this.entryListInt = [...val];\n      },\n    },\n    /** PAGINATION AND EXPAND MODE */\n    /**\n     * the number of items that should be visible on one page\n     * (if pagination is active)\n     * @returns {number}\n     */\n    visibleNumberOfItems() {\n      const availableSpaces = this.itemsPerRow * this.maxRows;\n      if (this.editModeActive && this.showActionButtonBoxes) {\n        return availableSpaces - this.actionButtonsConfig.length;\n      }\n      if (!this.editModeActive && this.useExpandMode) {\n        // subtract 1 for the Expand Box Button or Action Button\n        return availableSpaces - 1;\n      }\n      return availableSpaces;\n    },\n    /**\n     * number of pages (if pagination is active)\n     * @returns {number}\n     */\n    pages() {\n      return (this.total || this.entryListInt.length) && this.visibleNumberOfItems >= 0\n        ? Math.ceil((this.total || this.entryListInt.length) / this.visibleNumberOfItems) : 1;\n    },\n    /**\n     * determines if the total number of entries exceeds the number of entries that\n     * can be displayed and thus if an expand button is needed\n     */\n    expandNeeded() {\n      return (this.itemsPerRow * this.maxShowMoreRows) < this.entryList.length;\n    },\n  },\n  watch: {\n    entryList: {\n      handler(val) {\n        if (JSON.stringify(val) !== JSON.stringify(this.entryListInt)) {\n          this.entryListInt = [...val];\n        }\n      },\n      immediate: true,\n      deep: true,\n    },\n    entryListInt: {\n      handler(val) {\n        if (JSON.stringify(val) !== JSON.stringify(this.entryList)) {\n          /**\n           * event emitted when the list of entries changed internally\n           * (relevant if `draggable` is set `true`)\n           *\n           * @event entries-changed\n           * @param {Object[]} - the updated list of entries\n           */\n          this.$emit('entries-changed', val);\n        }\n      },\n      deep: true,\n    },\n    // watch selectedList prop and assign to internal value if changes occur\n    selectedList: {\n      handler(val) {\n        if (JSON.stringify(val) !== JSON.stringify(this.selectedListInt)) {\n          this.selectedListInt = JSON.parse(JSON.stringify(val));\n        }\n      },\n      immediate: true,\n    },\n    // watch selectedList prop and assign to internal value if changes occur\n    selectedListInt(val) {\n      if (JSON.stringify(val) !== JSON.stringify(this.selectedList)) {\n        /**\n         * inform the parent of the changes in `selectedList` and provide\n         * the ids of all selected.\n         *   the [`.sync` modifier](https://vuejs.org/v2/guide/components-custom-events.html#sync-Modifier) may be used on the corresponding prop\n         *\n         * @event update:selected-list\n         * @param {Array} - the list of selected entry ids\n         */\n        this.$emit('update:selected-list', val);\n      }\n    },\n    // watch pages in case of deletion of items and take care\n    // current page is not higher than total page number\n    pages: {\n      handler(val) {\n        if (this.currentPageNumberInt > val) {\n          // if the current page number exceeds the total number of pages\n          // set the value to the last existing page\n          this.currentPageNumberInt = val;\n        }\n      },\n      immediate: true,\n    },\n    // update internal page number if changed from outside\n    currentPageNumber: {\n      handler(val) {\n        if (val !== this.currentPageNumberInt) {\n          // check if number is larger than max number of pages currently available and\n          // set to max possible value if yes instead\n          // TODO: changed this to internal handling for now because it makes problems with\n          // externally provided data but maybe it would make sense to get rid of it all together\n          this.currentPageNumberInt = val > this.pages && !this.fetchDataExternally\n            ? this.pages : val;\n        }\n      },\n      immediate: true,\n    },\n    /**\n     * watch internal page number to inform parent about changes\n     * @param {number} val\n     */\n    currentPageNumberInt: {\n      handler(val) {\n        if (val !== this.currentPageNumber) {\n          /** emitted when pagination is used and page number was changed\n           *\n           * @event update:current-page-number\n           * @param {number} - the new page number\n          */\n          this.$emit('update:current-page-number', this.currentPageNumberInt);\n        }\n      },\n      immediate: true,\n    },\n    // if expanded variable is set from outside change\n    // internal variable accordingly\n    expanded: {\n      handler(val) {\n        if (val !== this.expandedInt) {\n          this.expandedInt = val;\n        }\n      },\n      immediate: true,\n    },\n    // if internal value changes, reset page number and inform parent\n    expandedInt(val) {\n      // reset current page number on collapse\n      if (!val) {\n        this.currentPageNumberInt = 1;\n      }\n      // inform parent of internal change\n      if (val !== this.expanded) {\n        /**\n         * event emitted on expand toggle.\n         *   the [`.sync` modifier](https://vuejs.org/v2/guide/components-custom-events.html#sync-Modifier) may be used on the corresponding prop\n         * @event update:expanded\n         * @param { Boolean } - true if list is expanded\n         */\n        this.$emit('update:expanded', val);\n      }\n    },\n    editModeActive(val) {\n      // have setting true of selectable delayed for animation\n      setTimeout(() => {\n        this.imageBoxesSelectable = val;\n      }, 50);\n      setTimeout(() => {\n        if (val) {\n          this.$nextTick(() => {\n            if (this.$refs.resultBoxItem && this.$refs.resultBoxItem.length) {\n              this.$refs.resultBoxItem.forEach((element) => {\n                const inputElement = element.getElementsByTagName('input');\n                inputElement[0].setAttribute('tabindex', '-1');\n              });\n              // it appears refs are not reactive and do not reflect reordering so we need\n              // to look for the actual current first element in the visibleBoxes array\n              const firstElement = this.$refs.resultBoxItem\n                .find(element => element.id.includes(this.visibleBoxes[0].id));\n              firstElement.focus({ preventScroll: true });\n            }\n          });\n        }\n      }, 500);\n      if (val) {\n        this.currentSupportiveText = this.supportiveText.description;\n      } else {\n        this.movableElementId = null;\n        this.currentSupportiveText = '';\n      }\n      if (val !== this.editMode) {\n        /**\n         * emitted on edit mode toggle (options toggle).\n         *   the [`.sync` modifier](https://vuejs.org/v2/guide/components-custom-events.html#sync-Modifier) may be used on the corresponding prop\n         *\n         * @event update:edit-mode\n         * @param {Boolean} - flag for edit mode active\n         */\n        this.$emit('update:edit-mode', val);\n      }\n\n      // add listener to esc key event (toggle edit mode)\n      if (!this.initialized) return;\n      if (val) {\n        window.addEventListener('keyup', this.escEventHandler);\n      } else {\n        window.removeEventListener('keyup', this.escEventHandler);\n      }\n    },\n    editMode: {\n      handler(val) {\n        if (val !== this.editModeActive) {\n          this.editModeActive = val && this.showOptions && this.showHeader;\n        }\n      },\n      immediate: true,\n    },\n    showOptions(val) {\n      if (!val) {\n        this.editModeActive = false;\n      }\n    },\n    showHeader(val) {\n      if (!val) {\n        this.editModeActive = false;\n      }\n    },\n  },\n  created() {\n    if (!this.useExpandMode) {\n      this.expandedInt = true;\n    }\n    this.itemsPerRow = this.initialItemsPerRow;\n  },\n  mounted() {\n    // create an element id to have an unique id to assign javascript calculated styles to\n    // note: done here, cause of mismatching ids (entries, class definition) in ssr-mode\n    // eslint-disable-next-line no-underscore-dangle\n    this.elementId = this._uid;\n\n    if (!this.initialBoxCalcDone && this.$refs.resultBoxesArea) {\n      this.calcBoxNumber();\n    }\n    // need to get the correct number of boxes per row to calculate the visible\n    // number of items correctly\n    window.addEventListener('resize', this.resizeBoxes);\n    this.initialized = true;\n  },\n  updated() {\n    if (!this.initialBoxCalcDone && this.$refs.resultBoxesArea) {\n      this.calcBoxNumber();\n    }\n  },\n  methods: {\n    /** EDIT MODE FUNCTIONALITIES */\n    /**\n     * toggling of options when options are behind a 'options' button\n     *\n     * @param {Boolean} actionsVisible true for open, false for close\n     */\n    optionsToggle(actionsVisible) {\n      this.editModeActive = actionsVisible;\n      if (!actionsVisible) {\n        // on close return to original collapsed state\n        this.expandedInt = this.wasExpanded;\n        // clear selected boxes\n        this.selectedListInt = [];\n        // on open - store the original collapsed state\n      } else {\n        this.wasExpanded = this.expandedInt;\n      }\n    },\n    /**\n     * function triggered when selecteAll was clicked in select mode\n     *\n     * @param {boolean} selectAll - true if everything was selected,\n     * false if everything was deselected\n     */\n    selectAllTriggered(selectAll) {\n      if (selectAll) {\n        // select all entries that are currently visible\n        // deduplicate by creating Set and converting back to array\n        this.selectedListInt = [...new Set([...this.selectedListInt,\n          ...this.visibleBoxes.map(entry => this\n            .getPropValue(this.identifierPropertyName, entry))])];\n      } else {\n        const visibleEntryIds = this.visibleBoxes\n          .map(visibleEntry => this.getPropValue(this.identifierPropertyName, visibleEntry));\n        this.selectedListInt = this.selectedListInt\n          .filter(entry => !visibleEntryIds\n            .includes(this.getPropValue(this.identifierPropertyName, entry) || entry));\n      }\n    },\n    /**\n     * triggered when an entry is selected or is clicked upon\n     *\n     * @param {string} entryId - the entry id of the selected entry\n     * @param {boolean} [selected=undefined] - not provided and thus undefined\n     * if entry was clicked\n     */\n    entrySelected(entryId, selected) {\n      // if entry was selected in edit mode and list does not contain entry\n      // already - add it to the list\n      if (selected && !this.selectedListInt.includes(entryId)) {\n        this.selectedListInt.push(entryId);\n      } else if (!selected) {\n        this.selectedListInt = this.selectedListInt.filter(boxId => boxId !== entryId);\n      }\n    },\n    /**\n     * function to calc if image box is currently selected\n     *\n     * @param {Object} entry - the entry in question\n     * @returns {Boolean}\n     */\n    isEntrySelected(entry) {\n      return this.selectedListInt\n        .map(selectedEntry => this.getPropValue(this.identifierPropertyName, selectedEntry)\n        || selectedEntry).includes(this.getPropValue(this.identifierPropertyName, entry));\n    },\n    /**\n     * function triggered when user has\n     * clicked action button to go through with the action\n     */\n    submitAction(action) {\n      /**\n       * event triggered when an action is triggered (after selecting boxes)\n       *\n       * @event submit-action\n       * @param {string} - the action type\n       */\n      this.$emit('submit-action', action);\n    },\n    /**\n     * intercept escape key event and reset edit mode\n     */\n    escEventHandler(e) {\n      if (e.key === 'Escape') {\n        // first use escape key to leave drag mode\n        if (this.movableElementId) {\n          this.cancelDragMode();\n          // else use it to leave edit mode\n        } else {\n          this.editModeActive = false;\n          this.currentSupportiveText = '';\n        }\n      }\n    },\n    /**\n     * event handler on keydown 'Enter'\n     * @param {KeyboardEvent} event - the keydown event\n     * @param {Object} entry - the entry the event was triggered on\n     * @param {number} index - the index of the entry in the visibleBoxes array\n     */\n    onEnterKey(event, entry, index) {\n      if (this.editModeActive && this.draggable) {\n        event.preventDefault();\n        // check if movableElementId is null\n        if (!this.movableElementId) {\n          // if yes activate drag mode by assigning the entry id as movableElementId\n          this.movableElementId = entry.id;\n          // add supportive text for the screen reader\n          this.currentSupportiveText = this.supportiveText.activated\n            .replace('{pos}', (index + 1).toString());\n        } else {\n          // if drag mode was active before - cancel it\n          this.cancelDragMode();\n        }\n      } else {\n        this.entryClicked(this.getPropValue(this.identifierPropertyName, entry));\n      }\n    },\n    /**\n     * event handler on keydown with arrow keys\n     * @param {KeyboardEvent} event - the keydown event\n     * @param {number} index - the index of the entry on which the event was triggered\n     *  in the visibleBoxes array\n     */\n    moveEntry(event, index) {\n      // reset supportive text\n      this.currentSupportiveText = '';\n      // get key that was pressed\n      const { key } = event;\n      // determine if element should be moved up or down in the list\n      const shiftDown = ['ArrowRight', 'ArrowDown'].includes(key);\n      // get the corresponding number to add to the array index\n      const shiftIndex = shiftDown ? 1 : -1;\n      // get new Index\n      const newIndex = index + shiftIndex;\n      // check if move is possible or if item is first or last respectively already\n      if (this.isWithinArrayLimit(this.visibleBoxes, shiftDown, newIndex)) {\n        // assign box list to variable so the set() of visibleBoxes is actually triggered\n        // when it is assigned again later on (doing it directly on visibleBoxes or entryListInt\n        // has no effect)\n        const newArray = this.visibleBoxes;\n        // do swapping with array destructuring\n        [newArray[index], newArray[newIndex]] = [newArray[newIndex], newArray[index]];\n        // assign it again to visibleBoxes variable\n        this.visibleBoxes = newArray;\n        // next tick so there is time to repaint and get new order\n        this.$nextTick(() => {\n          // get all box elements\n          const movedElement = document.getElementById(`li-${this.movableElementId}`);\n          // element is loosing focus in the process of swapping so refocus here\n          movedElement.focus();\n        });\n        // add matching supportive text informing the user of the move and the new position\n        this.currentSupportiveText = this.supportiveText.moved\n          .replace('{pos}', newIndex + 1)\n          .replace('{total}', this.visibleBoxes.length);\n      }\n    },\n    /**\n     * reset drag related variable and supportive text\n     */\n    cancelDragMode() {\n      this.movableElementId = null;\n      this.currentSupportiveText = '';\n    },\n\n    /** BOX DISPLAY FUNCTIONALITIES */\n    /**\n     * timeout function for resize event to limit the number of times\n     * box number is recalculated\n     */\n    resizeBoxes() {\n      // check if there is a timeout already set and clear it if yes\n      if (this.resizeTimeout) {\n        clearTimeout(this.resizeTimeout);\n        this.resizeTimeout = null;\n      }\n      // if yes set timeout to recalculate box number after\n      this.resizeTimeout = setTimeout(() => {\n        this.calcBoxNumber();\n      }, 300);\n    },\n    /**\n     * calculate the box number according to available space and breaking points set\n     */\n    calcBoxNumber() {\n      // get the result boxes parent - in case of draggable active this is a vue component\n      // and $el needs to be addressed - otherwise native HTML element can be used directly\n      const resultBoxesElement = this.$refs.resultBoxesArea && this.$refs.resultBoxesArea.$el\n        ? this.$refs.resultBoxesArea.$el : this.$refs.resultBoxesArea;\n      // if such an element was found and element has children (= boxes are rendered)\n      if (resultBoxesElement) {\n        // get the element width\n        const totalWidth = resultBoxesElement.clientWidth;\n        // create a copy of the prop to avoid direct prop mutation\n        const boxBreakpointsCopy = [...this.boxBreakpoints];\n        // calculate how many items should be displayed according to\n        // breakpoints set\n        this.itemsPerRow = boxBreakpointsCopy\n          // then also sorting should not be necessary anymore (maybe keep to\n          // be on the save side?\n          .sort((a, b) => a[0] > b[0])\n          // get the correct box number\n          .reduce((prev, [size, number]) => {\n            if (totalWidth > size) {\n              return number;\n            }\n            return prev;\n          }, 0);\n        // set the styles\n        // set a css variable that is responsible for the number of items\n        this.$el.style.setProperty('--items-per-row', this.itemsPerRow);\n        // set the correct margins for the boxes\n        const nodeId = `base-result-box-section__box-style-${this.elementId}`;\n        let style = document.getElementById(nodeId);\n        // check if element already exists to only create it once\n        if (!style) {\n          // if not - create the style element\n          style = document.createElement('style');\n          // set an id\n          style.id = nodeId;\n          // append the style element\n          this.$el.appendChild(style);\n        }\n        // set the actually css in the style element\n        style.innerHTML = `\n          .base-result-box-section__box-item-${this.elementId}:nth-child(n + ${this.itemsPerRow + 1}) {\n            margin-top: var(--spacing-regular);\n          }\n          .base-result-box-section__box-item-${this.elementId}:not(:nth-child(${this.itemsPerRow}n)) {\n            margin-right: var(--spacing-regular);\n          }`;\n        this.initialBoxCalcDone = true;\n        /**\n         * communicate to parent when items per row changed, either after initial\n         * render space calculations or when window was resized\n         * @event items-per-row-changed\n         * @param {number} - the new number of items that fit in a row\n         */\n        this.$emit('items-per-row-changed', this.itemsPerRow);\n      }\n    },\n    /** PAGINATION */\n    /**\n     * function triggered when page in pagination component is selected\n     *\n     * @param {number} number - the selected page number\n     */\n    setPage(number) {\n      // set internal page number - this will also trigger an event to parent\n      this.currentPageNumberInt = number;\n      // if variable is set true jump to top of element\n      if (this.jumpToTop) {\n        window.scrollTo(0, this.$el.offsetTop - this.scrollToOffset);\n      }\n    },\n\n    /** GENERAL FUNCTIONALITIES */\n    /**\n     * triggered when an entry is clicked upon (edit mode not acive)\n     *\n     * @param {string} entryId - the entry id of the selected entry\n     */\n    entryClicked(entryId) {\n      /**\n       * event emitted from default image box when clicked\n       * @event entry-clicked\n       * @property {string} entryId - the id of the clicked entry\n       * the select mode was not active but the box was clicked\n       */\n      this.$emit('entry-clicked', { entryId });\n    },\n    /**\n     * get an internationalized string\n     *\n     * @param {string|Object} localizationArguments - string or object to look\n     * up in localization files\n     *   if it is an object it should have the following properties:\n     * @property {string} string - string to look up in a Locale messages file\n     * @property {number} count - for pluralization\n     * @property {Object} variables - locale string variables object\n     * @returns {string}\n     */\n    getI18nString(localizationArguments) {\n      // check if a string was provided\n      if (typeof localizationArguments === 'string') {\n        return this.getI18nTerm(localizationArguments);\n      }\n      // if not - assume an object with the relevant properties\n      const { string, count, variables } = { ...localizationArguments };\n      return this.getI18nTerm(string, count, variables);\n    },\n    /**\n     * to get a nested object property value from a string in dot notation\n     *\n     * @param {string} string - the nested object property path in dot notation\n     * @param {Object} object - the object from which the property value should be extracted\n     * @returns {*}\n     */\n    getPropValue(string, object) {\n      return extractNestedPropertyValue(string, object);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/variables\";\n\n.base-result-box-section {\n  position: relative;\n  --items-per-row: 0;\n  --spacing-regular: #{$spacing};\n\n  .base-result-box-section__loading {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    z-index: map-get($zindex, loader);\n    background-color: $loading-background;\n\n    .base-result-box-section__loader {\n      top: 50%;\n    }\n  }\n\n  .base-result-box-section__container {\n    .base-result-box-section__header-row {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      margin: $spacing-small 0;\n\n      .base-result-box-section__header {\n        font-size: $font-size-regular;\n        color: $font-color-second;\n        font-weight: normal;\n        margin: 0 0 0 $spacing;\n      }\n    }\n\n    .base-result-box-section__boxes-container {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n\n      .base-result-box-section__box-item {\n        position: relative;\n        // subtracted 0.01rem for edge\n        flex: 0 0 calc(((100% - ((var(--items-per-row) - 1) * #{$spacing}))\n        / var(--items-per-row)) - 0.01rem);\n        height: 100%;\n\n        &__hidden {\n          visibility: hidden;\n        }\n\n        &:focus-within:after {\n          content: '';\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          top: 0;\n          right: 0;\n          border: 1px solid $app-color-secondary;\n          pointer-events: none;\n        }\n\n        &:focus:not(:focus-visible) {\n          outline: none;\n        }\n      }\n\n      .base-result-box-section__result-box-item {\n        box-shadow: $box-shadow-reg;\n        cursor: pointer;\n\n        &__draggable {\n          box-shadow: 0 0 12px 2px rgba(0, 0, 0, 0.25);\n          cursor: move;\n        }\n\n        &__dragging {\n          &:focus-within:after {\n            border: 1px solid $app-color;\n          }\n        }\n      }\n\n      .base-result-box-section__expand-button__content {\n        display: flex;\n        width: 100%;\n        height: 100%;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n\n        .base-result-box-section__expand-button__content-number {\n          color: $app-color;\n          font-size: $font-size-large;\n          font-weight: bold;\n        }\n\n        .base-result-box-section__expand-button__content-text-collapsed,\n        .base-result-box-section__expand-button__content-text-expanded:hover{\n          color: $app-color;\n        }\n      }\n    }\n\n    .base-result-box-section__message-area {\n      margin-bottom: $spacing-large;\n      text-align: center;\n      color: $font-color-second;\n      backface-visibility: hidden;\n      z-index: map-get($zindex, boxcontent);\n      position: relative;\n\n      .base-result-box-section__message-area-text {\n        font-size: $font-size-large;\n        margin-bottom: $spacing-small;\n      }\n\n      .base-result-box-section__message-area-subtext {\n        font-size: $font-size-small;\n        white-space: pre-line;\n      }\n    }\n\n    .base-result-box-section__background {\n\n      &--white {\n        position: relative;\n        z-index: 1;\n        padding: $spacing;\n        background-color: #fff;\n        box-shadow: $box-shadow-edit;\n\n        .base-result-box-section__message-area {\n          margin-bottom: $spacing-small;\n        }\n\n        .base-result-box-section__result-box-item__draggable {\n          box-shadow: $box-shadow-reg;\n        }\n      }\n\n      &::v-deep .base-button.base-button-secondary.base-button-background {\n        background-color: transparent;\n      }\n    }\n  }\n}\n</style>\n"],"names":["_sfc_main","BaseImageBox","m","i18n","navigateList","val","requiredProp","point","pointValue","action","requiredProps","actionProps","prop","availableSpaces","element","actionsVisible","selectAll","entry","visibleEntryIds","visibleEntry","entryId","selected","boxId","selectedEntry","e","event","index","key","shiftDown","newIndex","newArray","resultBoxesElement","totalWidth","boxBreakpointsCopy","a","b","prev","size","number","nodeId","style","localizationArguments","string","count","variables","object","extractNestedPropertyValue"],"mappings":"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"}