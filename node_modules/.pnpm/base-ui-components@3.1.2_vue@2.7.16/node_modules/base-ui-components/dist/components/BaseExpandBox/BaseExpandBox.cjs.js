"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("../BaseBox/BaseBox.cjs.js"),a=require("../BaseButton/BaseButton.cjs.js");require("./BaseExpandBox.vue_vue_type_style_index_0_scoped_ca63cad2_lang.cjs.js");const o=require("../../_virtual/_plugin-vue2_normalizer.cjs.js"),i={name:"BaseExpandBox",components:{BaseBox:s.default,BaseButton:a.default},props:{expand:{type:Boolean,default:!1},padding:{type:String,default:"small",validator(n){return["large","small"].includes(n)}},showMoreText:{type:String,default:"Show more"},showLessText:{type:String,default:"Show less"},autoHeight:{type:Boolean,default:!1},maxCollapsedHeight:{type:Number,default:300},showButtonHeight:{type:Number,default:54}},data(){return{expandInt:!1,contentWidth:null,initialized:!1,showButton:!1}},computed:{maxCollapsedHeightInt(){return this.showButton?this.maxCollapsedHeight-this.showButtonHeight:this.maxCollapsedHeight},style(){return{"--max-collapsed-height":`${this.maxCollapsedHeightInt}px`}}},mounted(){this.init()},methods:{init(){this.expand&&(this.showButton=this.contentInnerHeight()>this.contentHeight(),this.expandInt=!0),this.initialized=!0,this.boxResize().observe(this.$el)},boxResize(){return new ResizeObserver(n=>{const e=n[0].contentRect.width;this.contentWidth!==e&&(this.expandInt||(this.showButton=this.contentInnerHeight()>this.contentHeight()),this.expand&&this.expandInt&&this.contentWidth!==null&&(this.expandInt=!1)),this.contentWidth=e,this.expandInt||this.$emit("box-height",this.$el.offsetHeight)})},contentHeight(){return this.$el.querySelector(".base-expand-box-content").offsetHeight},contentInnerHeight(){return this.$el.querySelector(".base-expand-box-content-inner > div").offsetHeight},clicked(){this.expandInt=!this.expandInt,this.$emit("update:expand",this.expandInt)}}};var d=function(){var e=this,t=e._self._c;return t("base-box",{class:["base-expand-box","base-expand-box-padding-"+e.padding,{"base-expand-box-auto-height":e.autoHeight},{"base-expand-box-open":e.expandInt}],style:e.style,attrs:{"box-ratio":"0","box-size":{},"box-hover":!1}},[t("div",{class:["base-expand-box-content",{"base-expand-box-content-fade-out":!e.initialized||!e.expandInt&&e.showButton}]},[t("div",{staticClass:"base-expand-box-content-inner"},[t("div",[e._t("default")],2)])]),e.showButton?t("base-button",{class:["base-expand-box-button",{"base-button-icon-rotate-180":e.expandInt}],attrs:{text:e.expandInt?e.showLessText:e.showMoreText,"has-background-color":!1,"align-text":"left",icon:"drop-down","icon-position":"right"},on:{clicked:e.clicked}}):e._e(),e.$slots.footer?t("div",{staticClass:"base-expand-box-footer"},[t("div",{staticClass:"base-expand-box-footer-inner"},[e._t("footer")],2)]):e._e()],1)},l=[],r=o.default(i,d,l,!1,null,"ca63cad2",null,null);const h=r.exports;exports.default=h;
//# sourceMappingURL=BaseExpandBox.cjs.js.map
