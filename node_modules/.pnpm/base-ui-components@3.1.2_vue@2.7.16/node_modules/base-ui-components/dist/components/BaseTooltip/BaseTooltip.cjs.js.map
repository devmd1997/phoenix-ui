{"version":3,"file":"BaseTooltip.cjs.js","sources":["../../../src/components/BaseTooltip/BaseTooltip.vue"],"sourcesContent":["<template>\n  <div\n    :style=\"{ ...styles, ...css }\"\n    :class=\"['base-tooltip',\n             'base-tooltip--' + direction,\n             { 'base-tooltip--active': isActive }]\">\n    <!-- @slot slot to inject content  -->\n    <slot>\n      <i>use default slot</i>\n    </slot>\n  </div>\n</template>\n\n<script>\n\n/**\n * Component to display a tooltip\n */\n\nexport default {\n  name: 'BaseTooltip',\n  props: {\n    /**\n     * HTMLElement to attach the tooltip\n     * e.g.: vue ref element\n     */\n    attachTo: {\n      type: null, // HTMLElement makes troubles with nuxt/nuxt-bridge\n      required: true,\n    },\n    /**\n     * add additional styling\n     * **caveat**: properties `top`, `left` and `right` will be overwritten due position calculation\n     */\n    styles: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return {\n      isActive: false,\n      direction: 'top',\n      css: {},\n      thresholdX: 10, // px, distance from window left or right side\n      thresholdY: 3, // px, distance between tooltip and attachTo element\n    };\n  },\n  mounted() {\n    // move component to body to position it absolute in the document\n    document.querySelector('body').appendChild(this.$el);\n    this.calcPosition();\n    this.isActive = true;\n  },\n  methods: {\n    calcPosition() {\n      const { attachTo } = this;\n      const attachToRect = attachTo.getBoundingClientRect();\n\n      const tooltip = this.$el;\n      const tooltipTriangleHeight = parseFloat(window.getComputedStyle(tooltip, ':after').height) / 2;\n      const tooltipWidth = tooltip.offsetWidth;\n      const tooltipHeight = tooltip.offsetHeight + tooltipTriangleHeight;\n\n      // reset styles\n      this.css = {};\n\n      // set tooltip position before or after attachTo element\n      const { scrollY } = window;\n      if (attachToRect.top < tooltipHeight) {\n        this.direction = 'bottom';\n        this.css.top = `${attachToRect.bottom + tooltipTriangleHeight + this.thresholdY + scrollY}px`;\n      } else {\n        this.direction = 'top';\n        this.css.top = `${attachToRect.top - tooltipHeight - this.thresholdY + scrollY}px`;\n      }\n\n      // if tooltip overlaps window left side\n      if (attachToRect.x < tooltipWidth / 2) {\n        this.css.left = `${this.thresholdX}px`;\n        this.css['--triangle-left'] = `${attachToRect.left + attachToRect.width / 2 - this.thresholdX}px`;\n\n      // if tooltip overlaps window right side\n      } else if (attachTo.getBoundingClientRect().right + tooltipWidth / 2 > window.outerWidth) {\n        this.css.right = `${this.thresholdX}px`;\n        this.css['--triangle-left'] = `${tooltipWidth - attachToRect.width / 2 + this.thresholdX\n          - (window.outerWidth - attachTo.getBoundingClientRect().right)}px`;\n\n      // else center tooltip\n      } else {\n        this.css.left = `${attachToRect.left + attachToRect.width / 2 - tooltipWidth / 2}px`;\n        this.css['--triangle-left'] = '50%';\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"../../styles/variables\";\n\n  .base-tooltip {\n    position: absolute;\n    z-index: 1;\n    min-width: 200px;\n    max-width: 500px;\n    padding: $spacing;\n    color: $font-color;\n    background-color: #fff;\n    visibility: hidden;\n    opacity: 0;\n    transition: opacity 150ms ease-in;\n    filter: drop-shadow(0 0px 6px rgba(0, 0, 0, 0.25));\n\n    &--active {\n      visibility: visible;\n      opacity: 1;\n      cursor: default;\n    }\n\n    &:after {\n      content: '';\n      position: absolute;\n      display: inline-block;\n      border-width: 12px;\n      border-style: solid;\n      border-color: #fff transparent transparent transparent;\n    }\n\n    &--top {\n      &:after {\n        left: var(--triangle-left);\n        bottom: 0;\n        transform: translate(-50%, 100%);\n      }\n    }\n\n    &--bottom {\n      &:after {\n        top: 0;\n        left: var(--triangle-left);\n        transform: translate(-50%, -100%) rotate(180deg);\n      }\n    }\n\n    &__label {\n      display: inline-block;\n      font-weight: bold;\n      margin-bottom: $spacing-small;\n    }\n  }\n</style>\n"],"names":["_sfc_main","attachTo","attachToRect","tooltip","tooltipTriangleHeight","tooltipWidth","tooltipHeight","scrollY"],"mappings":"6PAmBAA,EAAA,CACA,KAAA,cACA,MAAA,CAKA,SAAA,CACA,KAAA,KACA,SAAA,EACA,EAKA,OAAA,CACA,KAAA,OACA,QAAA,KAAA,CAAA,EACA,CACA,EACA,MAAA,CACA,MAAA,CACA,SAAA,GACA,UAAA,MACA,IAAA,CAAA,EACA,WAAA,GACA,WAAA,CACA,CACA,EACA,SAAA,CAEA,SAAA,cAAA,MAAA,EAAA,YAAA,KAAA,GAAA,EACA,KAAA,aAAA,EACA,KAAA,SAAA,EACA,EACA,QAAA,CACA,cAAA,CACA,KAAA,CAAA,SAAAC,CAAA,EAAA,KACAC,EAAAD,EAAA,wBAEAE,EAAA,KAAA,IACAC,EAAA,WAAA,OAAA,iBAAAD,EAAA,QAAA,EAAA,MAAA,EAAA,EACAE,EAAAF,EAAA,YACAG,EAAAH,EAAA,aAAAC,EAGA,KAAA,IAAA,GAGA,KAAA,CAAA,QAAAG,CAAA,EAAA,OACAL,EAAA,IAAAI,GACA,KAAA,UAAA,SACA,KAAA,IAAA,IAAA,GAAAJ,EAAA,OAAAE,EAAA,KAAA,WAAAG,QAEA,KAAA,UAAA,MACA,KAAA,IAAA,IAAA,GAAAL,EAAA,IAAAI,EAAA,KAAA,WAAAC,OAIAL,EAAA,EAAAG,EAAA,GACA,KAAA,IAAA,KAAA,GAAA,KAAA,eACA,KAAA,IAAA,mBAAA,GAAAH,EAAA,KAAAA,EAAA,MAAA,EAAA,KAAA,gBAGAD,EAAA,wBAAA,MAAAI,EAAA,EAAA,OAAA,YACA,KAAA,IAAA,MAAA,GAAA,KAAA,eACA,KAAA,IAAA,mBAAA,GAAAA,EAAAH,EAAA,MAAA,EAAA,KAAA,YACA,OAAA,WAAAD,EAAA,sBAAA,EAAA,aAIA,KAAA,IAAA,KAAA,GAAAC,EAAA,KAAAA,EAAA,MAAA,EAAAG,EAAA,MACA,KAAA,IAAA,mBAAA,MAEA,CACA,CACA"}